type Query {
  matchById(id: String!): Match!
  matchesFromUser(id: String!): [Match!]
  myMatches: [Match!]
}

type Mutation {
  createMatch(input: CreateMatchInput!): Match!
  matchMove(input: MatchMoveInput!): Match!
}

type Subscription {
  matchMoveMade(id: String!): Match!
}

input CreateMatchInput {
  name: String
}

input MatchMoveInput {
  id: String!
  from: String!
  to: String!
  promotion: String
}

type Match {
  id: String!
  name: String!
  participants: [MatchParticipant!]!
  fen: String!
  moves: [MatchMove!]!
  turn: String!
  draw: Boolean!
  gameOver: Boolean!
  pgn: String!
  captured: [String!]
}

type MatchMove {
  from: String!
  to: String!
  color: String!
  piece: String!
  captured: String!
  date: String!
  fen: String!
  san: String!
}

type MatchParticipant {
  user: User!
  side: color!
}

enum color {
  w
  b
}
